# Этап 1 — Ассемблер УВМ (Вариант 30)

## 1. Описание этапа

Этап 1 заключается в создании минимального ассемблера, который:

* принимает программу в формате **YAML**;
* формирует внутреннее представление инструкций (A, B);
* кодирует их в 32-битные машинные слова согласно спецификации варианта 30;
* в режиме `--test` выводим:

  * IR (список инструкций с полями A/B),
  * hex-дамп полученного бинарника,
  * размер сгенерированного `.bin` файла.


---

### 2.2. Установка Python-окружения

Открыть PowerShell **в папке проекта (`uvm-v30`)**:

```bash
python -m venv venv
```

Активировать окружение:

Windows:

```bash
venv\Scripts\activate
```

Установить зависимости:

```bash
pip install -r requirements.txt
```

---

### Запуск в тестовом режиме

Создай папку для бинарников:

```bash
mkdir build
```

Собрать и протестировать программу:

```bash
python assembler.py programs/tests.yaml build/tests.bin --test
```

### Что выдаёт `--test`:

1. Внутреннее представление инструкций (A, B).
2. Hex-дамп 32-битных слов.
3. Размер итогового бинарного файла.

Вывод должен совпадать с тестами из спецификации:

* CONST 480 → `08 3C 00 00`
* LOAD 91 → `75 0B 00 00`
* STORE → `1C 00 00 00`
* MAX 6 → `D9 00 00 00`

---

## 3. Формат входной программы (YAML)

Этап 1 поддерживает только 4 инструкции:

```yaml
- { op: CONST, value: 480 }
- { op: LOAD,  addr: 91 }
- { op: STORE }
- { op: MAX,   offset: 6 }
```

---

## 4. Результат Этапа 1

После выполнения Этапа 1 у нас есть:

* рабочий ассемблер для варианта 30;
* проверка на тестах из задания;
* генерация бинарного `.bin` файла;
* вывод IR и hex-дампа.
